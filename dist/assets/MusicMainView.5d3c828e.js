import{d as P,j as v,b as o,c as i,e,t as l,n as A,k as t,_ as D,r as w,o as z,l as C,w as R,m as T,F as _,f as y,h as u,q as E,s as S,u as I,a as Y,v as x,x as $,g as F,p as O,i as Z}from"./index.24c5cb68.js";import{P as M}from"./PageSectionTitle.b13b766a.js";const q="/images/apple-music.svg",V="/images/spotify.svg",L="/images/youtube.svg",Q={id:"title"},G={id:"zh"},H={id:"en"},J=P({__name:"NumberDecoratedPageTitle",props:{number:Number,titleZh:String,titleEn:String,color:String},setup(c){const k=c,a=v(()=>({color:k.color}));return(m,h)=>(o(),i("div",Q,[e("span",{style:A(t(a))},l(c.number),5),e("div",null,[e("div",G,l(c.titleZh),1),e("div",H,l(c.titleEn),1)])]))}});const K=D(J,[["__scopeId","data-v-9825c8a9"]]),d=c=>(O("data-v-2cb8e045"),c=c(),Z(),c),U={key:0},W={id:"as-song",class:"info-cover-cell cell-background"},X={id:"as-song-info"},ee={class:"title"},te={class:"artist"},se={class:"lyric"},oe=["href"],ie=d(()=>e("img",{src:q,alt:"Apple Music"},null,-1)),le=[ie],ae=["href"],ne=d(()=>e("img",{src:V,alt:"Spotify"},null,-1)),ce=[ne],re=["href"],ue=d(()=>e("img",{src:L,alt:"YouTube"},null,-1)),de=[ue],_e=["src","title","alt"],ve={key:0},he={id:"as-essentials",class:"dual-cell-block"},ye={class:"info-cover-cell cell-background"},me={class:"as-essentials-info"},pe={class:"track"},ge={class:"title"},ke={class:"artist"},fe=["src","title","alt"],be={id:"as-essentials-link",class:"cell-background"},Ee=d(()=>e("div",null,"Playlist Available On",-1)),Se=["href"],xe=d(()=>e("img",{src:q,alt:"Apple Music"},null,-1)),Me=[xe],je=["href"],Be=d(()=>e("img",{src:V,alt:"Spotify"},null,-1)),Ne=[Be],we={key:1,id:"as-more"},Ce={key:0},Fe={key:1},Pe={key:2,id:"rn-more-other-years"},Ae={id:"as-empty"},De={key:0,id:"as-more"},qe=d(()=>e("span",null,"Switch to",-1)),Ve={id:"rn-more-other-years"},ze={id:"rn-songs",class:"dual-cell-block"},Re={class:"info-cover-cell cell-background"},Te={class:"rn-songs-info"},Ie={class:"title"},Ye={class:"artist"},$e=["src","title","alt"],Oe=d(()=>e("span",null,"And More...",-1)),Ze={key:1},Le=P({__name:"MusicMainView",setup(c){const k=w(!1),a=w({year:{this:void 0,others:[]},color:{primary:void 0,secondary:void 0},song_of_this_year:{title:void 0,artist:void 0,album:void 0,cover:void 0,lyric:void 0,link:{apple_music:void 0,spotify:void 0,youtube:void 0}},essentials_of_this_year:{essentials:[{title:void 0,artist:void 0,album:void 0,cover:void 0,track:void 0}],link:{apple_music:void 0,spotify:void 0}},blog_post:{text:void 0,label:void 0},recent_notes:[{title:void 0,artist:void 0,album:void 0,cover:void 0}]}),m=v(()=>a.value.year.others.length>0),h=v(()=>a.value.color.primary),n=v(()=>a.value.song_of_this_year),f=v(()=>a.value.essentials_of_this_year),p=v(()=>a.value.blog_post),j=v(()=>a.value.recent_notes),B=I();function N(r){console.log("requestData: year = "+r),Y.get("/api/music/main",{params:{year:r}}).then(g=>{a.value=g.data,k.value=!0})}return z(()=>{const r=C(B.query.year);console.log("Route query from onMounted: year = "+r),N(r)}),R(()=>B.query.year,r=>{const g=C(r);console.log("Route query from watch: year = "+g),N(g)}),(r,g)=>{const b=T("router-link");return k.value?(o(),i("div",U,[t(n)!==void 0?(o(),i(_,{key:0},[y(K,{number:a.value.year.this,"title-zh":"\u97F3\u4E50\u5E74\u5EA6\u603B\u7ED3","title-en":"Annual Summary on Music",color:t(h)},null,8,["number","color"]),y(M,{"title-zh":"\u5E74\u5EA6\u6B4C\u66F2","title-en":"Song of this Year",color:t(h)},null,8,["color"]),e("div",W,[e("div",X,[e("div",ee,l(t(n).title),1),e("div",te,l(t(n).artist),1),e("div",se,l(t(n).lyric),1),e("a",{href:t(n).link.apple_music,class:"as-enjoy-link as-enjoy-link-apple-music"},le,8,oe),e("a",{href:t(n).link.spotify,class:"as-enjoy-link as-enjoy-link-spotify"},ce,8,ae),t(n).link.youtube!==void 0?(o(),i("a",{key:0,href:t(n).link.youtube,class:"as-enjoy-link as-enjoy-link-youtube"},de,8,re)):u("",!0)]),e("img",{src:t(n).cover,title:t(n).album,alt:t(n).album,class:"cover"},null,8,_e)]),t(f)!==void 0?(o(),i("div",ve,[y(M,{"title-zh":"\u5E74\u5EA6\u7CBE\u9009\u96C6","title-en":"Essentials of this Year",color:t(h)},null,8,["color"]),e("div",he,[(o(!0),i(_,null,E(t(f).essentials,s=>(o(),i("div",{key:s.title},[e("div",ye,[e("div",me,[e("div",pe,l(s.track),1),e("div",ge,l(s.title),1),e("div",ke,l(s.artist),1)]),e("img",{src:s.cover,title:s.album,alt:s.album,class:"cover"},null,8,fe)])]))),128))]),e("div",be,[Ee,e("a",{href:t(f).link.apple_music,class:"as-enjoy-link as-enjoy-link-apple-music"},Me,8,Se),e("a",{href:t(f).link.spotify,class:"as-enjoy-link as-enjoy-link-spotify"},Ne,8,je)])])):u("",!0),t(p)!==void 0||t(m)?(o(),i("div",we,[t(p)!==void 0?(o(),i("div",Ce,[y(b,{to:t($)(t(p).label),class:"inline"},{default:S(()=>[x(l(t(p).text),1)]),_:1},8,["to"])])):u("",!0),t(p)!==void 0&&t(m)?(o(),i("span",Fe," Or switch to ")):u("",!0),t(m)?(o(),i("div",Pe,[(o(!0),i(_,null,E(a.value.year.others,s=>(o(),F(b,{to:"/music?year="+s,key:s,class:"year inline"},{default:S(()=>[x(l(s),1)]),_:2},1032,["to"]))),128))])):u("",!0)])):u("",!0)],64)):(o(),i(_,{key:1},[e("div",Ae,"\u4F60\u6765\u5230\u4E86 "+l(a.value.year.this)+" \u5E74\u7684\u4E00\u7247\u8352\u539F\u{1F61B}",1),t(m)?(o(),i("div",De,[qe,e("div",Ve,[(o(!0),i(_,null,E(a.value.year.others,s=>(o(),F(b,{to:"/music?year="+s,key:s,class:"year inline"},{default:S(()=>[x(l(s),1)]),_:2},1032,["to"]))),128))])])):u("",!0)],64)),t(j).length>0?(o(),i(_,{key:2},[y(M,{"title-zh":"\u6700\u8FD1\u542C\u6B4C\u8BB0\u5F55","title-en":"Recent Notes",color:t(h)},null,8,["color"]),e("div",ze,[(o(!0),i(_,null,E(t(j),s=>(o(),i("div",{key:s.title},[e("div",Re,[e("div",Te,[e("div",Ie,l(s.title),1),e("div",Ye,l(s.artist),1)]),e("img",{src:s.cover,title:s.album,alt:s.album,class:"cover"},null,8,$e)])]))),128))]),y(b,{to:"/music/song/notes",id:"rn-more",style:A({background:"linear-gradient(to right, "+a.value.color.secondary+", "+t(h)+")"})},{default:S(()=>[Oe]),_:1},8,["style"])],64)):u("",!0)])):(o(),i("div",Ze))}}});const He=D(Le,[["__scopeId","data-v-2cb8e045"]]);export{He as default};
