import{d as N,r as m,j as S,o as x,l as B,b as e,c as s,f,I as D,F as _,q as h,k as c,g as F,y as I,D as V,h as v,u as b,a as q,e as a,t as u,p as w,i as M,_ as C}from"./index.24c5cb68.js";import{P}from"./PageTitle.3c32498c.js";const z=r=>(w("data-v-3039166c"),r=r(),M(),r),R={key:0},T={class:"info"},j={class:"title"},A={class:"artists"},E={class:"artist"},L=z(()=>a("div",{class:"featuring",title:"Featuring"},[a("div",null,"Ft")],-1)),Q={class:"artist"},G={key:0,class:"genres"},H=["title"],J=["src","title","alt"],K={key:1},O=N({__name:"MusicSongNotesView",setup(r){const g=m(!1),i=m({data:[{title:void 0,artist_leading:void 0,artist_featuring:void 0,album:void 0,cover:void 0,genres:[{name:void 0,name_zh_cn:void 0}]}],paging:{digest:{former:[],latter:[],former_more:!1,latter_more:!1,first:!1,last:!1},current:0,total:0,count:0,previous:null,next:null},updated_at:void 0,color:void 0}),l=S(()=>i.value.paging),y=b();function k(o){const n=o.artist_featuring;return n!==void 0&&n.length>0}function p(o){console.log("requestData: page = "+o),q.get("/api/music/song/notes",{params:{page:o}}).then(n=>{i.value=n.data,g.value=!0})}return x(()=>{const o=B(y.query.page);console.log("Route query from onMounted: page = "+o),p(o)}),(o,n)=>g.value?(e(),s("div",R,[f(P,{"title-zh":"\u542C\u6B4C\u8BB0\u5F55","title-en":"Song Notes","decoration-width":108,"decoration-color":i.value.color},null,8,["decoration-color"]),f(D,{icon:"fa-solid fa-clock",date:i.value.updated_at,"margin-right":10,"align-end":!0},null,8,["date"]),(e(!0),s(_,null,h(i.value.data,t=>(e(),s("div",{key:t.title,class:"song"},[a("div",T,[a("div",j,u(t.title),1),a("div",A,[a("div",E,u(t.artist_leading),1),k(t)?(e(),s(_,{key:0},[L,a("div",Q,u(t.artist_featuring),1)],64)):v("",!0)]),t.genres.length>0?(e(),s("div",G,[a("div",null,[(e(!0),s(_,null,h(t.genres,d=>(e(),s("div",{key:d.name,title:d.name_zh_cn},u(d.name),9,H))),128))])])):v("",!0)]),a("img",{src:t.cover,title:t.album,alt:t.album,class:"cover"},null,8,J)]))),128)),c(l).digest?(e(),F(V,I({key:0,current:c(l).current,total:c(l).total},c(l).digest,{onTurnTo:p}),null,16,["current","total"])):v("",!0)])):(e(),s("div",K))}});const X=C(O,[["__scopeId","data-v-3039166c"]]);export{X as default};
